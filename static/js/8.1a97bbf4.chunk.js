(this["webpackJsonpopyn-taco"]=this["webpackJsonpopyn-taco"]||[]).push([[8,11],{1648:function(e,t,r){"use strict";r.r(t);var n=r(15),i=r.n(n),a=(r(1670),r(1672),r(1673),r(1674),r(1675),r(1668)),s=(r(1676),r(72),r(2),r(1698));function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(c){i=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,i,a,s){try{var o=e[a](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,i)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){l(a,n,i,s,o,"next",e)}function o(e){l(a,n,i,s,o,"throw",e)}s(void 0)}))}}function d(e){return h.apply(this,arguments)}function h(){return(h=f(i.a.mark((function e(t){var n,u,p,l,d,h,v,y,b,g,w,m,x,k,K,P,E,C,A,I,M,U,_,B,S,N,T,L,O,j,z,V,H,D,F,J,Z,q,G,R,Q;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q=function(){return(Q=f(i.a.mark((function e(t){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==k.size){e.next=3;break}return e.next=3,_();case 3:return r=o(c(k.entries())[0],2),n=r[0],a=r[1],e.abrupt("return",new Promise((function(e,r){l.ethereumSignMessage({path:a,message:p.stripHexPrefix(t.data),hex:!0}).then((function(t){if(t.success){t.payload.address!==p.toChecksumAddress(n)&&r(new Error("signature doesnt match the right address"));var i="0x".concat(t.payload.signature);e(i)}else r(new Error(t.payload&&t.payload.error||"There was an error signing a message"))}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},R=function(e){return Q.apply(this,arguments)},G=function(){return(G=f(i.a.mark((function e(t){var r,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==k.size){e.next=3;break}return e.next=3,_();case 3:return r=c(k.values())[0],n=new u.Transaction(t,{chain:m(v)}),e.next=7,Z(r,t);case 7:if((a=e.sent).success){e.next=10;break}throw new Error(a.payload.error);case 10:return s=a.payload,n.v=s.v,n.r=s.r,n.s=s.s,e.abrupt("return","0x".concat(n.serialize().toString("hex")));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},q=function(e){return G.apply(this,arguments)},Z=function(e,t){var r=t.nonce,n=t.gasPrice,i=t.gas,a=t.to,s=t.value,o=t.data;return l.ethereumSignTransaction({path:e,transaction:{nonce:r,gasPrice:n,gasLimit:i,to:a,value:s||"",data:o||"",chainId:v}})},J=function(e){return new Promise((function(t,r){C.sendAsync({jsonrpc:"2.0",method:"eth_getBalance",params:[e,"latest"],id:42},(function(e,n){e&&r(e);var i=n&&n.result;t(null!=i?new w(i).toString(10):null)}))}))},F=function(e){return Promise.all(e.map((function(e){return new Promise(function(){var t=f(i.a.mark((function t(r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:n=t.sent,r({address:e,balance:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})))},D=function(){return(D=f(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K){e.next=2;break}return e.abrupt("return",[void 0]);case 2:if(!(k.size>0)||t){e.next=4;break}return e.abrupt("return",N());case 4:if(""===x&&(x="m/44'/60'/0'/0"),E){e.next=15;break}return e.prev=6,e.next=9,L();case 9:E=e.sent,e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),e.t0;case 15:return Object(s.generateAddresses)(E,k.size).forEach((function(e){var t=e.dPath,r=e.address;k.set(r,t)})),e.abrupt("return",N());case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)},H=function(e){return D.apply(this,arguments)},V=function(){return(V=f(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(!0);case 2:return t=e.sent,e.abrupt("return",F(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},z=function(){return V.apply(this,arguments)},j=function(){return K?N()[0]:void 0},O=function(){return(O=f(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}throw new Error("a derivation path is needed to get the public key");case 2:return e.prev=2,e.next=5,l.getPublicKey({path:x,coin:"eth"});case 5:if((t=e.sent).success){e.next=8;break}throw new Error(t.payload.error);case 8:return E={publicKey:t.payload.publicKey,chainCode:t.payload.chainCode,path:t.payload.serializedPath},e.abrupt("return",E);case 12:throw e.prev=12,e.t0=e.catch(2),new Error("There was an error accessing your Trezor accounts.");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)},L=function(){return O.apply(this,arguments)},T=function(e){var t=c(k.entries()),r=t.findIndex((function(t){return o(t,1)[0]===e}));t.unshift(t.splice(r,1)[0]),k=new Map(t)},N=function(){return Array.from(k.keys())},S=function(){return(S=f(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="Unable to derive address from path ".concat(t),e.prev=1,e.next=4,l.ethereumGetAddress({path:t,showOnTrezor:!1});case 4:if((n=e.sent).success){e.next=7;break}throw new Error(r);case 7:return e.abrupt("return",n.payload.address);case 10:throw e.prev=10,e.t0=e.catch(1),new Error(r);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)},B=function(e){return S.apply(this,arguments)},_=function(){return K=!0,H()},U=function(){return P},M=function(){return(M=f(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(s.isValidPath)(t)){e.next=2;break}return e.abrupt("return",!1);case 2:if(t!==x&&(k=new Map),!r){e.next=17;break}return e.prev=4,e.next=7,B(t);case 7:return n=e.sent,k.set(n,t),x=t,P=!0,e.abrupt("return",!0);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("There was a problem deriving an address from path ".concat(t));case 17:return P=!1,x=t,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)},I=function(e,t){return M.apply(this,arguments)},A=function(){x="",k=new Map,K=!1,C.stop()},e.next=25,r.e(6).then(r.t.bind(null,1838,7));case 25:return n=e.sent,e.next=28,Promise.resolve().then(r.t.bind(null,448,7));case 28:return u=e.sent,e.next=31,Promise.resolve().then(r.t.bind(null,72,7));case 31:return p=e.sent,l=n.default,d=n.DEVICE_EVENT,h=n.DEVICE,v=t.networkId,y=t.email,b=t.appUrl,g=t.rpcUrl,w=t.BigNumber,m=t.networkName,x="",k=new Map,K=!1,P=!1,l.manifest({email:y,appUrl:b}),l.on(d,(function(e){e.type===h.DISCONNECT&&(K=!1,k=new Map)})),(C=Object(a.default)({getAccounts:function(e){H().then((function(t){return e(null,t)})).catch((function(t){return e(t,null)}))},signTransaction:function(e,t){q(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},processMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},processPersonalMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},signMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},signPersonalMessage:function(e,t){R(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))},rpcUrl:g})).setPath=I,C.dPath=x,C.enable=_,C.setPrimaryAccount=T,C.getPrimaryAddress=j,C.getAccounts=H,C.getMoreAccounts=z,C.getBalance=J,C.getBalances=F,C.send=C.sendAsync,C.disconnect=A,C.isCustomPath=U,e.abrupt("return",C);case 54:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.rpcUrl,r=e.networkId,n=e.email,a=e.appUrl,s=e.preferred,o=e.label,c=e.iconSrc;return{name:o||"Trezor",svg:e.svg||'\n\t<svg width="40px" height="40px" viewBox="0 0 114 166" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n\t\t<g id="Styles" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n\t\t\t<path d="M17,51.453125 L17,40 C17,17.90861 34.90861,-1.0658141e-14 57,-1.0658141e-14 C79.09139,-1.0658141e-14 97,17.90861 97,40 L97,51.453125 L113.736328,51.453125 L113.736328,139.193359 L57.5,166 L0,139.193359 L0,51.453125 L17,51.453125 Z M37,51.453125 L77,51.453125 L77,40 L76.9678398,40 C76.3750564,29.406335 67.6617997,21 57,21 C46.3382003,21 37.6249436,29.406335 37.0321602,40 L37,40 L37,51.453125 Z M23,72 L23,125 L56.8681641,140.966797 L91,125 L91,72 L23,72 Z" id="Trezor-logo" fill="currentColor"></path>\n\t\t</g>\n\t</svg>\n',iconSrc:c,wallet:function(){var e=f(i.a.mark((function e(s){var o,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.BigNumber,c=s.networkName,e.next=3,d({rpcUrl:t,networkId:r,email:n,appUrl:a,BigNumber:o,networkName:c});case 3:return u=e.sent,e.abrupt("return",{provider:u,interface:{name:"Trezor",connect:u.enable,disconnect:u.disconnect,address:{get:function(){var e=f(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.getPrimaryAddress());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},network:{get:function(){var e=f(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},balance:{get:function(){var e=f(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.getPrimaryAddress(),e.abrupt("return",t&&u.getBalance(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),type:"hardware",desktop:!0,mobile:!0,osExclusions:["iOS"],preferred:s}}},1668:function(e,t,r){"use strict";r.r(t);var n=r(1670),i=r.n(n),a=r(1672),s=r.n(a),o=r(1673),c=r.n(o),u=r(1674),p=r.n(u),l=r(1675),f=r.n(l);t.default=function(e){var t=e.getAccounts,r=e.signTransaction,n=e.rpcUrl,a=e.processMessage,o=e.processPersonalMessage,u=e.signMessage,l=e.signPersonalMessage,d=t&&new c.a({getAccounts:t,signTransaction:r,processMessage:a,processPersonalMessage:o,signMessage:u,signPersonalMessage:l}),h=new s.a({rpcUrl:n.includes("http")?n:"https://".concat(n)}),v=new i.a;return v.addProvider(new p.a),v.addProvider(new f.a),d&&v.addProvider(d),v.addProvider(h),v.start(),v}},1676:function(e,t,r){var n=r(43),i=r(11).Buffer,a=r(110),s=r(1695),o=r(92),c=i.from("Bitcoin seed","utf8"),u={private:76066276,public:76067358};function p(e){this.versions=e||u,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}function l(e,t,r){var n=i.allocUnsafe(78);n.writeUInt32BE(t,0),n.writeUInt8(e.depth,4);var a=e.depth?e.parentFingerprint:0;return n.writeUInt32BE(a,5),n.writeUInt32BE(e.index,9),e.chainCode.copy(n,13),r.copy(n,45),n}function f(e){var t=a.createHash("sha256").update(e).digest();return a.createHash("ripemd160").update(t).digest()}Object.defineProperty(p.prototype,"fingerprint",{get:function(){return this._fingerprint}}),Object.defineProperty(p.prototype,"identifier",{get:function(){return this._identifier}}),Object.defineProperty(p.prototype,"pubKeyHash",{get:function(){return this.identifier}}),Object.defineProperty(p.prototype,"privateKey",{get:function(){return this._privateKey},set:function(e){n.equal(e.length,32,"Private key must be 32 bytes."),n(!0===o.privateKeyVerify(e),"Invalid private key"),this._privateKey=e,this._publicKey=o.publicKeyCreate(e,!0),this._identifier=f(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}}),Object.defineProperty(p.prototype,"publicKey",{get:function(){return this._publicKey},set:function(e){n(33===e.length||65===e.length,"Public key must be 33 or 65 bytes."),n(!0===o.publicKeyVerify(e),"Invalid public key"),this._publicKey=o.publicKeyConvert(e,!0),this._identifier=f(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}}),Object.defineProperty(p.prototype,"privateExtendedKey",{get:function(){return this._privateKey?s.encode(l(this,this.versions.private,i.concat([i.alloc(1,0),this.privateKey]))):null}}),Object.defineProperty(p.prototype,"publicExtendedKey",{get:function(){return s.encode(l(this,this.versions.public,this.publicKey))}}),p.prototype.derive=function(e){if("m"===e||"M"===e||"m'"===e||"M'"===e)return this;var t=e.split("/"),r=this;return t.forEach((function(e,t){if(0!==t){var i=e.length>1&&"'"===e[e.length-1],a=parseInt(e,10);n(a<2147483648,"Invalid index"),i&&(a+=2147483648),r=r.deriveChild(a)}else n(/^[mM]{1}/.test(e),'Path must start with "m" or "M"')})),r},p.prototype.deriveChild=function(e){var t,r=e>=2147483648,s=i.allocUnsafe(4);if(s.writeUInt32BE(e,0),r){n(this.privateKey,"Could not derive hardened child key");var c=this.privateKey,u=i.alloc(1,0);c=i.concat([u,c]),t=i.concat([c,s])}else t=i.concat([this.publicKey,s]);var l=a.createHmac("sha512",this.chainCode).update(t).digest(),f=l.slice(0,32),d=l.slice(32),h=new p(this.versions);if(this.privateKey)try{h.privateKey=o.privateKeyTweakAdd(this.privateKey,f)}catch(v){return this.deriveChild(e+1)}else try{h.publicKey=o.publicKeyTweakAdd(this.publicKey,f,!0)}catch(v){return this.deriveChild(e+1)}return h.chainCode=d,h.depth=this.depth+1,h.parentFingerprint=this.fingerprint,h.index=e,h},p.prototype.sign=function(e){return o.sign(e,this.privateKey).signature},p.prototype.verify=function(e,t){return o.verify(e,t,this.publicKey)},p.prototype.wipePrivateData=function(){return this._privateKey&&a.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this},p.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}},p.fromMasterSeed=function(e,t){var r=a.createHmac("sha512",c).update(e).digest(),n=r.slice(0,32),i=r.slice(32),s=new p(t);return s.chainCode=i,s.privateKey=n,s},p.fromExtendedKey=function(e,t){var r=new p(t=t||u),i=s.decode(e),a=i.readUInt32BE(0);n(a===t.private||a===t.public,"Version mismatch: does not match private or public"),r.depth=i.readUInt8(4),r.parentFingerprint=i.readUInt32BE(5),r.index=i.readUInt32BE(9),r.chainCode=i.slice(13,45);var o=i.slice(45);return 0===o.readUInt8(0)?(n(a===t.private,"Version mismatch: version does not match private"),r.privateKey=o.slice(1)):(n(a===t.public,"Version mismatch: version does not match public"),r.publicKey=o),r},p.fromJSON=function(e){return p.fromExtendedKey(e.xpriv)},p.HARDENED_OFFSET=2147483648,e.exports=p},1695:function(e,t,r){"use strict";var n=r(67),i=r(1696);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},1696:function(e,t,r){"use strict";var n=r(1697),i=r(11).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},1697:function(e,t,r){var n=r(450);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},1698:function(e,t,r){"use strict";r.r(t),r.d(t,"generateAddresses",(function(){return u})),r.d(t,"isValidPath",(function(){return p}));var n=r(1676),i=r.n(n),a=r(72),s=r(2),o=a.publicToAddress,c=a.toChecksumAddress;function u(e,t){var r=e.publicKey,n=e.chainCode,a=e.path,u=new i.a;u.publicKey=new s.Buffer(r,"hex"),u.chainCode=new s.Buffer(n,"hex");for(var p=[],l=t;l<5+t;l++){var f=u.deriveChild(l),d=o(f.publicKey,!0).toString("hex");p.push({dPath:"".concat(a,"/").concat(l),address:c(d)})}return p}function p(e){var t=e.split("/");if("m"!==t[0])return!1;if("44'"!==t[1])return!1;if("60'"!==t[2]&&"1'"!==t[2])return!1;if(void 0===t[3])return!0;var r=Number(t[3][0]);if(isNaN(r)||r<0||"'"!==t[3][1])return!1;if(void 0===t[4])return!0;var n=Number(t[4][0]);if(isNaN(n)||n<0)return!1;if(void 0===t[5])return!0;var i=Number(t[5][0]);return!(isNaN(i)||i<0)}}}]);
//# sourceMappingURL=8.1a97bbf4.chunk.js.map