(this["webpackJsonpopyn-taco"]=this["webpackJsonpopyn-taco"]||[]).push([[10],{1655:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l}));var r={},o={},a=function(e,t){o[e]=t},i=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,r[e]=t,t};i("AccountNameRequired"),i("AccountNotSupported"),i("AmountRequired"),i("BluetoothRequired"),i("BtcUnmatchedApp"),i("CantOpenDevice"),i("CashAddrNotSupported"),i("CurrencyNotSupported"),i("DeviceAppVerifyNotSupported"),i("DeviceGenuineSocketEarlyClose"),i("DeviceNotGenuine"),i("DeviceOnDashboardExpected"),i("DeviceOnDashboardUnexpected"),i("DeviceInOSUExpected"),i("DeviceHalted"),i("DeviceNameInvalid"),i("DeviceSocketFail"),i("DeviceSocketNoBulkStatus"),i("DisconnectedDevice"),i("DisconnectedDeviceDuringOperation"),i("EnpointConfig");var c=i("EthAppPleaseEnableContractData"),s=(i("FeeEstimationFailed"),i("FirmwareNotRecognized"),i("HardResetFail"),i("InvalidXRPTag"),i("InvalidAddress"),i("InvalidAddressBecauseDestinationIsAlsoSource"),i("LatestMCUInstalledError"),i("UnknownMCU"),i("LedgerAPIError"),i("LedgerAPIErrorWithMessage"),i("LedgerAPINotAvailable"),i("ManagerAppAlreadyInstalled"),i("ManagerAppRelyOnBTC"),i("ManagerAppDepInstallRequired"),i("ManagerAppDepUninstallRequired"),i("ManagerDeviceLocked"),i("ManagerFirmwareNotEnoughSpace"),i("ManagerNotEnoughSpace"),i("ManagerUninstallBTCDep"),i("NetworkDown"),i("NoAddressesFound"),i("NotEnoughBalance"),i("NotEnoughBalanceToDelegate"),i("NotEnoughBalanceInParentAccount"),i("NotEnoughSpendableBalance"),i("NotEnoughBalanceBecauseDestinationNotCreated"),i("NoAccessToCamera"),i("NotEnoughGas"),i("NotSupportedLegacyAddress"),i("GasLessThanEstimate"),i("PasswordsDontMatch"),i("PasswordIncorrect"),i("RecommendSubAccountsToEmpty"),i("RecommendUndelegation"),i("TimeoutTagged"),i("UnexpectedBootloader"),i("MCUNotGenuineToDashboard"),i("RecipientRequired"),i("UnavailableTezosOriginatedAccountReceive"),i("UnavailableTezosOriginatedAccountSend"),i("UpdateFetchFileFail"),i("UpdateIncorrectHash"),i("UpdateIncorrectSig"),i("UpdateYourApp"),i("UserRefusedDeviceNameChange"),i("UserRefusedAddress"),i("UserRefusedFirmwareUpdate"),i("UserRefusedAllowManager"),i("UserRefusedOnDevice"),i("TransportOpenUserCancelled"),i("TransportInterfaceNotAvailable"),i("TransportRaceCondition"));i("TransportWebUSBGestureRequired"),i("DeviceShouldStayInApp"),i("WebsocketConnectionError"),i("WebsocketConnectionFailed"),i("WrongDeviceForAccount"),i("WrongAppForCurrency"),i("ETHAddressNonEIP"),i("CantScanQRCode"),i("FeeNotLoaded"),i("FeeRequired"),i("FeeTooHigh"),i("SyncError"),i("PairingFailed"),i("GenuineCheckFailed"),i("LedgerAPI4xx"),i("LedgerAPI5xx"),i("FirmwareOrAppUpdateRequired"),i("NoDBPathGiven"),i("DBWrongPassword"),i("DBNotReset");function u(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}u.prototype=new Error,a("TransportError",(function(e){return new u(e.message,e.id)}));var d={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function l(e){this.name="TransportStatusError";var t=Object.keys(d).find((function(t){return d[t]===e}))||"UNKNOWN_ERROR",n=function(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}l.prototype=new Error,a("TransportStatusError",(function(e){return new l(e.statusCode)}))},1856:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return T}));var r=n(15),o=n.n(r),a=n(75),i=n(4),c=n(644),s=n(5),u=n(8),d=n(9),l=n(720),p=n(1857),f=n(1859),h=n(1655);function v(e,t,n){var r=new h.c(t,n);return r.originalError=e,r}var g=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};function E(t,n,r,o){var a=function(t,n){for(var r=e.alloc(t.length),o=0;o<t.length;o++)r[o]=t[o]^n[o%n.length];return r}(t,r),i=e.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),c={version:"U2F_V2",keyHandle:g(a.toString("base64")),challenge:g(i.toString("base64")),appId:location.origin};return Object(f.a)("apdu","=> "+t.toString("hex")),Object(l.sign)(c,n/1e3).then((function(t){var n,r=t.signatureData;if("string"===typeof r){var a,i=e.from((n=r).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*n.length%4),"base64");return a=o?i.slice(5):i,Object(f.a)("apdu","<= "+a.toString("hex")),a}throw t}))}var m=[];var T=function(t){Object(u.a)(r,t);var n=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=n.call(this)).scrambleKey=void 0,e.unwrap=!0,m.push(Object(c.a)(e)),e}return Object(s.a)(r,null,[{key:"open",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>1&&void 0!==n[1]?n[1]:5e3,e.abrupt("return",new r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),Object(s.a)(r,[{key:"exchange",value:function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t,this.exchangeTimeout,this.scrambleKey,this.unwrap);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!("object"===typeof e.t0.metaData)){e.next=14;break}throw 5===e.t0.metaData.code&&(m.forEach((function(e){return e.emit("disconnect")})),m=[]),v(e.t0,"Failed to sign with Ledger device: U2F "+e.t0.metaData.type,"U2F_"+e.t0.metaData.code);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setScrambleKey",value:function(t){this.scrambleKey=e.from(t,"ascii")}},{key:"setUnwrap",value:function(e){this.unwrap=e}},{key:"close",value:function(){return Promise.resolve()}}]),r}(p.a);T.isSupported=l.isSupported,T.list=function(){return Object(l.isSupported)().then((function(e){return e?[null]:[]}))},T.listen=function(e){var t=!1;return Object(l.isSupported)().then((function(n){t||(n?(e.next({type:"add",descriptor:null}),e.complete()):e.error(new h.c("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))})),{unsubscribe:function(){t=!0}}}}.call(this,n(2).Buffer)},1857:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(1858),o=n(15),a=n.n(o),i=n(75),c=n(4),s=n(5),u=n(51),d=n.n(u),l=n(1655),p=function(){function t(){var n=this;Object(c.a)(this,t),this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new d.a,this.send=function(){var t=Object(i.a)(a.a.mark((function t(r,o,i,c){var s,u,d,p,f=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=f.length>4&&void 0!==f[4]?f[4]:e.alloc(0),u=f.length>5&&void 0!==f[5]?f[5]:[l.b.OK],!(s.length>=256)){t.next=4;break}throw new l.c("data.length exceed 256 bytes limit. Got: "+s.length,"DataLengthTooBig");case 4:return t.next=6,n.exchange(e.concat([e.from([r,o,i,c]),e.from([s.length]),s]));case 6:if(d=t.sent,p=d.readUInt16BE(d.length-2),u.some((function(e){return e===p}))){t.next=10;break}throw new l.e(p);case 10:return t.abrupt("return",d);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=function(){var e=Object(i.a)(a.a.mark((function e(t){var r,o,i,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.exchangeBusyPromise){e.next=2;break}throw new l.d("An action was already pending on the Ledger device. Please deny or reconnect.");case 2:return o=new Promise((function(e){r=e})),n.exchangeBusyPromise=o,i=!1,c=setTimeout((function(){i=!0,n.emit("unresponsive")}),n.unresponsiveTimeout),e.prev=6,e.next=9,t();case 9:return s=e.sent,i&&n.emit("responsive"),e.abrupt("return",s);case 12:return e.prev=12,clearTimeout(c),r&&r(),n.exchangeBusyPromise=null,e.finish(12);case 17:case"end":return e.stop()}}),e,null,[[6,,12,17]])})));return function(t){return e.apply(this,arguments)}}(),this._appAPIlock=null}return Object(s.a)(t,[{key:"exchange",value:function(e){throw new Error("exchange not implemented")}},{key:"setScrambleKey",value:function(e){}},{key:"close",value:function(){return Promise.resolve()}},{key:"on",value:function(e,t){this._events.on(e,t)}},{key:"off",value:function(e,t){this._events.removeListener(e,t)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this._events).emit.apply(t,[e].concat(r))}},{key:"setDebugMode",value:function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}},{key:"setExchangeTimeout",value:function(e){this.exchangeTimeout=e}},{key:"setExchangeUnresponsiveTimeout",value:function(e){this.unresponsiveTimeout=e}},{key:"decorateAppAPIMethods",value:function(e,t,n){var o,a=Object(r.a)(t);try{for(a.s();!(o=a.n()).done;){var i=o.value;e[i]=this.decorateAppAPIMethod(i,e[i],e,n)}}catch(c){a.e(c)}finally{a.f()}}},{key:"decorateAppAPIMethod",value:function(e,t,n,r){var o=this;return Object(i.a)(a.a.mark((function i(){var c,s,u,d,p=arguments;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(c=o._appAPIlock)){a.next=3;break}return a.abrupt("return",Promise.reject(new l.c("Ledger Device is busy (lock "+c+")","TransportLocked")));case 3:for(a.prev=3,o._appAPIlock=e,o.setScrambleKey(r),s=p.length,u=new Array(s),d=0;d<s;d++)u[d]=p[d];return a.next=9,t.apply(n,u);case 9:return a.abrupt("return",a.sent);case 10:return a.prev=10,o._appAPIlock=null,a.finish(10);case 13:case"end":return a.stop()}}),i,null,[[3,,10,13]])})))}}],[{key:"create",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,n=arguments.length>1?arguments[1]:void 0;return new Promise((function(r,o){var a=!1,i=e.listen({next:function(n){a=!0,i&&i.unsubscribe(),c&&clearTimeout(c),e.open(n.descriptor,t).then(r,o)},error:function(e){c&&clearTimeout(c),o(e)},complete:function(){c&&clearTimeout(c),a||o(new l.c(e.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),c=n?setTimeout((function(){i.unsubscribe(),o(new l.c(e.ErrorMessage_ListenTimeout,"ListenTimeout"))}),n):null}))}}]),t}();p.isSupported=void 0,p.list=void 0,p.listen=void 0,p.open=void 0,p.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",p.ErrorMessage_NoDeviceFound="No Ledger device found"}).call(this,n(2).Buffer)},1858:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(695);function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,i=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(c)throw a}}}}},1859:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=0,o=[],a=function(e,t,n){var a={type:e,id:String(++r),date:new Date};t&&(a.message=t),n&&(a.data=n),function(e){for(var t=0;t<o.length;t++)try{o[t](e)}catch(n){console.error(n)}}(a)};"undefined"!==typeof window&&(window.__ledgerLogsListen=function(e){return o.push(e),function(){var t=o.indexOf(e);-1!==t&&(o[t]=o[o.length-1],o.pop())}})}}]);
//# sourceMappingURL=10.1ff0e7b5.chunk.js.map